import*as fgui from"fairygui-ccc370";import{GObjectPool}from"fairygui-ccc370";import{PoolModule}from"gnfun";import{UITransform,Widget,Vec2}from"cc";import{SysBase}from"coolgame-cc";var _a;class FgoPool{static alloc(o){const e=this._poolOfpool.alloc();return e.reset(o),e}constructor(){this._pool=new GObjectPool}get(){return this._pool.getObject(this._url)}ret(o){this._pool.returnObject(o),o.removeFromParent()}reset(o){this._pool.clear(),this._url=o}}_a=FgoPool,FgoPool._poolOfpool=new PoolModule(()=>new FgoPool,o=>o.reset("")),FgoPool.free=_a._poolOfpool.free.bind(_a._poolOfpool);class FUISys extends SysBase{constructor(){super(...arguments),this.sysName="FUISys",this._allUILoaded=!1}get fgoPool(){return this._fgoPool}get root(){return fgui.GRoot.inst}OnInit(o){fgui.GRoot.create(),this.root.node.getComponent(UITransform).setContentSize(1920,1080);const e=this.root.node.addComponent(Widget);e.isAlignHorizontalCenter=!0,e.isAlignVerticalCenter=!0,this._fgoPool=new fgui.GObjectPool,o()}OnLateInit(o){o()}OnDispose(){}loadPackage(o,e,t){fgui.UIPackage.loadPackage(o,e,t)}createObject(o,e){return fgui.UIPackage.createObject(o,e)}toUrl(o,e){return fgui.UIPackage.getItemURL(o,e)}toUrlByArr(o){return fgui.UIPackage.getItemURL(o[0],o[1])}allocPool(o){return FgoPool.alloc(o)}freePool(o){FgoPool.free(o)}centerOfGlobal(o){const e=o.pivotAsAnchor?.5-o.pivotX:.5,t=o.pivotAsAnchor?.5-o.pivotY:.5,r=new Vec2(o.width*e,o.height*t);return o.localToGlobal(r.x,r.y)}}export{FUISys,FgoPool};